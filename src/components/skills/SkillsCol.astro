---
const { label, percentage, color } = Astro.props;
---

<div
  class="bg-secondary flex flex-col justify-center gap-4 min-h-[5rem] rounded-lg card skill-card"
  data-percentage={percentage}
  data-color={color}
>
  <div class="px-4 pt-4 flex items-center gap-4 flex-grow">
    <div class="skill-icon"><slot /></div>
    <div class="flex-grow font-bold skill-label">{label}</div>
  </div>
  <div class="h-1 percentage-bar"></div>    
</div>

<style define:vars={{ percentage, color }}>
  .skill-card {
    position: relative;
    cursor: pointer;
    overflow: hidden;
  }

  .percentage-bar {
    width: var(--percentage);
    background: linear-gradient(90deg, 
                var(--color, #64ffda) 0%, 
                rgba(255, 255, 255, 0.3) 50%, 
                var(--color, #64ffda) 100%);
    border-radius: 0 0 8px 8px;
  }

  .skill-icon {
    position: relative;
  }

  .skill-label {
    position: relative;
  }
</style>
